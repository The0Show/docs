<!DOCTYPE html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>how 2 arch</title>
    <style>
        code {
            background-color: lightgray;
            padding: 3px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
	how 2 arch
	<hr />
	<h1>Connecting to the Network</h1>
	<h2>Wi-Fi</h2>
	<ol>
		<li>Start the <code>iwctl</code> utility</li>
		<li>Make sure your Wi-Fi card is detected: <code>device list</code></li>
		<li>Scan for networks: <code>station wlan0 scan</code></li>
		<li>List detected networks: <code>station wlan0 get-networks</code></li>
		<li>
			Connect to your network: <code>station wlan0 connect [Network name]</code>
		</li>
		<li>Exit the iwctl utility: <code>exit</code></li>
		<li>Test your connection: <code>ping archlinux.org</code></li>
	</ol>
	<h1>Partitioning the disk</h1>
	<sub>(Assuming your disk is 100% empty)</sub>
	<ol>
		<li>Run the <code>cfdisk</code> utility</li>
        <li>If prompted, label it as <code>gpt</code></li>
		<li>
			Create a <code>[ New ]</code>, <b>500M</b> partition (this is your EFI
			partition)
		</li>
		<li>
			Create a <code>[ New ]</code>, <b>4G</b> partition (this is your swap
			partition)
		</li>
		<li>
			Create a <code>[ New ]</code> partition using the rest of your disk (this
			is where arch will actually be installed)
			<ul>
				<li>
					You can make this last partition smaller if desired (dual-booting, for
					example)
				</li>
			</ul>
		</li>
        <li><b>IMPORTANT: DO NOT CHANGE THE PARTIION TYPES</b></li>
        <li><code>[ Write ]</code> your changes, and <code>[ Quit ]</code> cfdisk</li>
	</ol>
    <hr />
    <b>Going forward, this guide will use the following for the partition names:</b>
    <ul>
        <li><code>/dev/sda1</code> for the <b>EFI partition</b></li>
        <li><code>/dev/sda2</code> for the <b>swap partition</b></li>
        <li><code>/dev/sda3</code> for the <b>filesystem partition</b></li>
    </ul>
    <p>Replace these partition names if necessary.</p>
    <hr />
    <h1>Formatting the partitions</h1>
    <h2>Filesystem partition</h2>
    <code>
        mkfs.ext4 /dev/sda3
    </code>
    <h2>EFI partition</h2>
    <code>
        mkfs.fat -F 32 /dev/sda1
    </code>
    <h2>Swap partition</h2>
    <p>(only if using a swap)</p>
    <code>
        mkswap /dev/sda2
    </code>
    <h1>Mounting the partitions</h1>
    <h2>Filesystem partition</h2>
    <pre><code>mount /dev/sda3 /mnt</code></pre>
    <h2>EFI partition</h2>
    <p>First, create the EFI boot directory.</p>
    <code>
        mkdir -p /mnt/boot/efi
    </code>
    <p>Then you can mount the partition.</p>
    <code>
        mount /dev/sda1 /mnt/boot/efi
    </code>
    <h2>Swap partition</h2>
    <p>(only if using a swap)</p>
    <code>
        swapon /dev/sda2
    </code>
    <h2>Checking our work</h2>
    <p>After all of that, run <code>lsblk</code> to check your work.</p>
    <h1>Installing the base system</h1>
    <p>Now we get to install the system!</p>
    <p>Use <code>pacstrap</code> to install the following to your system:</p>
    <ul>
        <li><code>base</code></li>
        <li><code>linux</code></li>
        <li><code>linux-firmware</code></li>
        <li><code>sof-firmware</code> (for soundcards)</li>
        <li><code>base-devel</code></li>
        <li><code>grub</code> (needed to boot the system [kinda important])</li>
        <li><code>efibootmgr</code> (brings efi support for grub)</li>
        <li>A text editor (example: <code>nano</code>)</li>
        <li>A network manager (<code>networkmanager</code>)</li>
    </ul>
    <p>We're not going to install the desktop enviroment just yet (sorry).</p>
    <p>My usual setup:</p>
    <code>
        pacstrap /mnt base linux linux-firmware sof-firmware base-devel grub efibootmgr nano networkmanager
    </code>
    <h1>Generating the filesystem tab (<code>fstab</code>)</h1>
    <p>Run <code>genfstab /mnt > /mnt/etc/fstab</code>.</p>
    <p>Verify the fstab by reading <code>/mnt/etc/fstab</code> (probably with <code>cat</code>)</p>
    <h1>Entering our system</h1>
    <p>Enter your installed system by running <code>arch-chroot /mnt</code>.</p>
    <p>Your terminal will lose it's colors.</p>
    <h1>Setting your timezone</h1>
    <p>Run <code>ln -sf /usr/share/zoneinfo/[REGION]/[CITY] /etc/localtime</code></p>
    <sub>(Replace <code>[REGION]</code> and <code>[CITY]</code> with your correct values [press TAB to autocomplete])</sub>
    <p>Verify your work using the <code>date</code> command.</p>
    <h2>Synchronizing your clock</h2>
    <p>Run <code>hwclock --systohc</code>. (say that 5 times fast)</p>
    <h1>Localization</h1>
    <h2>Setting the locale</h2>
    <ol>
        <li>Open <code>/etc/locale.gen</code>.</li>
        <li>Scroll down until you find the locale you want.<ul><li>In my case, <code>en_US.UTF_8 UTF-8</code></li></ul></li>
        <li>Delete the preceding <code>#</code>.</li>
        <li>Save the file and close your text editor.</li>
        <li>Run <code>locale-gen</code>.</li>
        <li>Open <code>/etc/locale.conf</code>.</li>
        <li>
            Input the following:<br />
            <code>
                LANG=[the locale you chose in the previous step (ex: en_US.UTF_8)]
            </code>
        </li>
        <li>Save the file and close your text editor.</li>
    </ol>
    <h2>Setting your keyboard layout</h2>
    <b>You only have to do this if your desired keyboard layout is not the US keyboard.</b>
    <ol>
        <li>Open <code>/etc/vconsole.conf</code>.</li>
        <li>
            Input the following:<br />
            <code>
                KEYMAP=[the keymap you want (ex: us)]
            </code>
        </li>
        <li>Save the file and close your text editor.</li>
    </ol>
    <h1>Specifying the hostname</h1>
    <ol>
        <li>Open <code>/etc/hostname</code>.</li>
        <li>
            Type your desired hostname into the file.
        </li>
        <li>Save the file and close your text editor.</li>
    </ol>
    <h1>Set the root password</h1>
    <p>Run <code>passwd</code> and follow the steps to set the root password.</p>
    <b>Pick a good password. The root account has full control of the system. If a malicious actor gains control of the root account, very bad things can happen.</b>
    <h1>Creating your own user</h1>
    <ol>
        <li>Run <code>useradd -m -G wheel -s /bin/bash [USERNAME]</code>.</li>
        <li>Give your user account a password by running <code>passwd [USERNAME]</code><ul><li>Pick a different password than your root account.</li></ul></li>
    </ol>
    <h1>Obtaining <code>sudo</code> permissions</h1>
    <ol>
        <li>Run <code>EDITOR=[your text editor] visudo</code></li>
        <li>
            Scroll down until you find this line:<br />
            <code>
                # %wheel ALL=(ALL:ALL) ALL
            </code>
        </li>
        <li>Uncomment it by removing the <code>#</code>.</li>
        <li>Save the file and close your text editor.</li>
    </ol>
    <h1>Enabling the NetworkManager</h1>
    <i>This is also how you enable other core services.</i>
    <p>Run <code>systemctl enable NetworkManager</code></p>
    <h1>Setting up the bootloader</h1>
    <ol>
        <li>Run <code>grub-install /dev/sda</code></li>
        <li>Run <code>grub-mkconfig -o /boot/grub/grub.cfg</code></li>
    </ol>
    <h1>Rebooting your system!</h1>
    <ol>
        <li>Run <code>exit</code> to return to the colored command prompt.</li>
        <li>Unmount all of your drives using <code>umount -a</code>.</li>
        <li>Reboot your system using <code>reboot</code>.</li>
        <li>Hope for the best!</li>
    </ol>
    <hr />
    <h1>Reconnecting to the Internet</h1>
    <p>You'll notice that <code>iwctl</code> has been taken away from you. We'll need to use our network manager to reconnect to the interwebs.</p>
    <p>With NetworkManager, we can run <code>nmtui</code> to get a simple interface to connect to the network.</p>
    <h1>GIVE ME MY GRAPHIKS!!!</h1>
    <ol>
        <li>Install <code>plasma</code> and <code>sddm</code>.</li>
        <li>Also, install <code>konsole</code>, <code>kate</code>, <code>neofetch</code>, and <code>firefox</code>.</li>
    </ol>
    <h1>Starting the desktop</h1>
    <ol>
        <li>Run <code>sudo systemctl enable --now sddm</code>.</li>
    </ol>
    <b>You should now have a functioning install of Arch Linux!</b>
</body>
